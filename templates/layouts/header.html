{% load static %}

<header class="topbar" style="background: #000 !important;">
  <nav class="navbar top-navbar navbar-expand-md navbar-dark">
    <div class="navbar-header">
      {% if user.is_staff %}
        {% url 'administrator_dashboard' as dashboard_url %}
      {% else %}
        {% url 'supplier_dashboard' as dashboard_url %}
      {% endif %}

      <a class="navbar-brand" href="{{ dashboard_url }}">
        <!-- Logo icon -->
        <b class="logo-icon ps-2">
          <img src="{% static 'admintemplate/assets/images/logo-icon.png' %}" alt="homepage" class="light-logo" width="35"/>
        </b>
        <span class="logo-text"><img src="{% static 'img/LogoTGText.png' %}" alt="homepage" class="light-logo" width="167"/></span>
      </a>
      <a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)"><i class="ti-menu ti-close"></i></a>
    </div>
    <div class="navbar-collapse collapse" id="navbarSupportedContent" style="background: #000 !important;">
            <!-- ============================================================== -->
            <!-- toggle and nav items -->
            <!-- ============================================================== -->
            <ul class="navbar-nav">
                <li class="nav-item d-none d-lg-block">
                    <a class="nav-link sidebartoggler waves-effect waves-light" href="javascript:void(0)" data-sidebartype="mini-sidebar"><i class="mdi mdi-menu font-24"></i></a>
                </li>
            </ul>
            <ul class="navbar-nav float-start me-auto">
                <li class="nav-item">
                    <h3 class="text-light">PORTAL DE PROVEEDORES</h3>
                </li>
            </ul>
            <!-- ============================================================== -->
            <!-- Right side toggle and nav items -->
            <!-- ============================================================== -->
            <ul class="navbar-nav float-end">
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle position-relative" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="mdi mdi-bell font-24">
                    <span id="notification-badge" class="position-absolute bottom-0 start-50 translate-middle badge rounded-pill bg-danger d-none p-1 m-1" style="font-size: 0.4em !important;">
                      0
                      <span class="visually-hidden">Notificaciones no leídas</span>
                    </span>
                  </i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end mailbox animated bounceInDown" id="notification-dropdown">
                    <li class="p-2 text-center">Cargando notificaciones...</li>
                </ul>
              </li>
              <!-- ============================================================== -->
              <!-- End Messages -->
              <!-- ============================================================== -->

              <!-- ============================================================== -->
              <!-- User profile and search -->
              <!-- ============================================================== -->
              <li class="nav-item dropdown">
                <a class="
                    nav-link
                    dropdown-toggle
                    text-muted
                    waves-effect waves-dark
                    pro-pic
                  " href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  {% if user.profile.profile_picture %}
                      <img src="{{ user.profile.profile_picture.url }}" alt="Foto de Perfil" class="rounded-circle" width="31">
                  {% else %}
                      <img src="/static/admintemplate/assets/images/users/agent.jpg" alt="Foto de Perfil" class="rounded-circle" width="31">
                  {% endif %}
                </a>
                <ul class="dropdown-menu dropdown-menu-end user-dd animated" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#profileModal" data-id="{{ user.id }}"><i class="mdi mdi-account me-1 ms-1"></i> Mi perfíl</a>
                  <a class="dropdown-item" href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#passwordModal" data-id="{{ user.id }}"><i class="mdi mdi-key me-1 ms-1"></i> Cambiar contraseña</a>
                  <a class="dropdown-item" href="javascript:void(0)"><i class="mdi mdi-settings me-1 ms-1"></i> Ajustes</a>
                  <div class="dropdown-divider"></div>
                  <form method="post" action="{% url 'logout' %}">
                      {% csrf_token %}
                      <button type="submit" class="dropdown-item"><i class="fa fa-power-off me-1 ms-1"></i> Salir</button>
                  </form>
                </ul>
              </li>
              <!-- ============================================================== -->
              <!-- User profile and search -->
              <!-- ============================================================== -->
            </ul>
          </div>
  </nav>
</header>